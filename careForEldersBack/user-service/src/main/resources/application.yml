spring:
  application:
    name: user-service

  data:
    mongodb:
      # Docker URI
      uri: mongodb://mongodb:27017/userdb

  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME}         # defined in Docker env
    password: ${MAIL_PASSWORD}         # use env for security
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

  jwt:
    secret: ${JWT_SECRET:mysecretkeymysecretkeymysecretkey!}

server:
  port: 8081

eureka:
  client:
    service-url:
      defaultZone: http://service-registry:8761/eureka/
  instance:
    prefer-ip-address: true

twilio:
  account_sid: ${TWILIO_ACCOUNT_SID}
  auth_token: ${TWILIO_AUTH_TOKEN}
  phone_number: ${TWILIO_PHONE_NUMBER}

security:
  oauth2:
    client:
      registration:
        google:
          client-id: ${GOOGLE_CLIENT_ID}
          client-secret: ${GOOGLE_CLIENT_SECRET}
          scope: profile, email
          redirect-uri: "{baseUrl}/oauth2/callback/google"
        facebook:
          client-id: ${FACEBOOK_CLIENT_ID}
          client-secret: ${FACEBOOK_CLIENT_SECRET}
          scope: public_profile,email
          redirect-uri: "{baseUrl}/oauth2/callback/facebook"

      provider:
        facebook:
          authorization-uri: https://www.facebook.com/v11.0/dialog/oauth
          token-uri: https://graph.facebook.com/v11.0/oauth/access_token
          user-info-uri: https://graph.facebook.com/me?fields=id,name,email,picture
