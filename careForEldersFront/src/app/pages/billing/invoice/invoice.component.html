<div class="invoice-container">
  <div *ngIf="isLoading" class="loading-message">
    Loading invoice details...
  </div>

  <div *ngIf="!isLoading && invoice" class="invoice-content">
    <div class="invoice-header">
      <h2>INVOICE #{{invoice.id}}</h2>
      <div class="invoice-actions">
        <button mat-raised-button color="primary" 
                (click)="sendPdfInvoice()"
                [disabled]="isSending">
          <mat-icon>email</mat-icon>
          {{ isSending ? 'Sending PDF...' : 'Email PDF Invoice' }}
        </button>
      </div>
    </div>

    <div class="invoice-details">
      <div class="detail-row">
        <span class="detail-label">Date:</span>
        <span class="detail-value">{{formatDate(invoice.issueDate)}}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Status:</span>
        <span class="detail-value status-badge" [class.paid]="invoice.status === 'PAID'">
          {{invoice.status}}
        </span>
      </div>
      <!-- Add more invoice details as needed -->
    </div>

    <div class="invoice-items">
      <h3>Items</h3>
      <table>
        <thead>
          <tr>
            <th>Description</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of invoice.items">
            <td>{{item.description}}</td>
            <td>{{item.quantity}}</td>
            <td>{{item.unitPrice | currency}}</td>
            <td>{{item.quantity * item.unitPrice | currency}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="invoice-summary">
      <div class="summary-row">
        <span class="summary-label">Subtotal:</span>
        <span class="summary-value">{{calculateSubtotal() | currency}}</span>
      </div>
      <div class="summary-row">
        <span class="summary-label">Tax:</span>
        <span class="summary-value">{{invoice.tax | currency}}</span>
      </div>
      <div class="summary-row total">
        <span class="summary-label">Total:</span>
        <span class="summary-value">{{invoice.totalAmount | currency}}</span>
      </div>
    </div>
  </div>

  <div *ngIf="!isLoading && !invoice" class="not-found-message">
    Invoice not found
  </div>
</div>